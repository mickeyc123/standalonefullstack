{% extends 'food/base.html' %}
{% load static %}

{% block title %} Edit Account {% endblock %}

{% block content %}

<div class="container-fluid p-5">
    <div class="row">
        <div class="col-md-3"></div>
        <div class="col-md-6 p-4 bg-dark text-light text-center">
            <h3 class="text">Edit Account</h3>
            <form method="post">
                {% csrf_token %}
                <div class="form-group">
                    <label for="id_first_name">First Name:</label>
                    <input type="text" name="first_name" id="id_first_name" value="{{ user.first_name }}" required>
                </div>
                <div class="form-group">
                    <label for="id_last_name">Last Name:</label>
                    <input type="text" name="last_name" id="id_last_name" value="{{ user.last_name }}" required>
                </div>
                <div class="form-group">
                    <label for="id_house_address">House Address:</label>
                    <input type="text" name="house_address" id="id_house_address" value="{{ user.profile.house_address }}" required>
                </div>
                <div class="form-group">
                    <label for="id_email">Email Address:</label>
                    <input type="email" name="email" id="id_email" value="{{ user.email }}" required>
                </div>
                <div class="form-group">
                    <label for="id_username">Username:</label>
                    <input type="text" name="username" id="id_username" value="{{ user.username }}" required>
                </div>
                <div class="form-group">
                    <label for="id_password">New Password:</label>
                    <input type="password" name="password" id="id_password">
                </div>
                <div class="form-group">
                    <label for="id_confirm_password">Confirm New Password:</label>
                    <input type="password" name="confirm_password" id="id_confirm_password">
                </div>
                <button type="submit">Save Changes</button>
            </form>
            <div class="mt-3">
                <h5>Password Strength Requirements:</h5>
                <ul>
                    <li>At least 8 characters</li>
                    <li>At least one uppercase letter</li>
                    <li>At least one lowercase letter</li>
                    <li>At least one digit</li>
                    <li>At least one special character (!@#$%^&*)</li>
                </ul>
            </div>
            {% if form.errors %}
            <ul>
                {% for field in form %}
                {% for error in field.errors %}
                <li>{{ error }}</li>
                {% endfor %}
                {% endfor %}
            </ul>
            {% endif %}
        </div>
        <div class="col-md-3"></div>
    </div>
</div>
<div class="container-fluid p-5">
    <div class="row">
        <div class="col-md-3"></div>
        <div class="col-md-6 p-4 bg-dark text-light text-center">
            <h3 class="text">Confirm Account Deletion</h3>
            <p>Are you sure you want to delete your account?</p>
            <form method="post" action="{% url 'food:delete_account' %}">
                {% csrf_token %}
                <button type="submit" class="btn btn-danger">Delete Account</button>
            </form>
        </div>
        <div class="col-md-3"></div>
    </div>
</div>

<!-- End Delete Account Modal -->
{% endblock %}
